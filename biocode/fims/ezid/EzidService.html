<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Sun Mar 20 20:31:51 PDT 2016 -->
<title>EzidService (biocode-fims-commons API)</title>
<meta name="date" content="2016-03-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EzidService (biocode-fims-commons API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?biocode/fims/ezid/EzidService.html" target="_top">Frames</a></li>
<li><a href="EzidService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">biocode.fims.ezid</div>
<h2 title="Class EzidService" class="title">Class EzidService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>biocode.fims.ezid.EzidService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">EzidService</span>
extends java.lang.Object</pre>
<div class="block">EzidService provides access to the EZID identifier service maintained by the
 California Digital Library (<a href="http://n2t.net/ezid/doc/apidoc.html">EZID</a>).
 The service includes methods for creating identifiers using several different
 standards such as DOI, ARK, and others.  To use the service, you must have an
 account with the EZID service, which is first used to login to the service.  Once
 successfully authenticated, calls can be made to create an identifier, to mint an
 identifier (same as create, but the EZID service creates a random identifier), to
 delete an identifier, or to get or set the metadata associated with an identifier.
 <p/>
 A typical interaction might proceed as follows:
 <pre>
 <code>
 try {
     EzidService ezid = new EzidService();
     String newId = "";
     ezid.login("username", "password");
     newId = ezid.mintIdentifier("doi:10.5072/FK2", null);
     HashMap&lt;String, String&gt; metadata = new HashMap&lt;String, String&gt;();
     metadata.put("_target", "http://example.com/some/target/resource");
     newId = ezid.createIdentifier("doi:10.5072/FK2/TEST/10101", metadata);
     metadata = ezid.getMetadata(newId);
     HashMap&lt;String, String&gt; moreMetadata = new HashMap&lt;String, String&gt;();
     moreMetadata.put("datacite.title", "This is a test identifier");
     ezid.setMetadata(newId, moreMetadata);
 } catch (EzidException e) {
     // Handle the error
 }
 </code>
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../biocode/fims/ezid/EzidService.html#log">log</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../biocode/fims/ezid/EzidService.html#EzidService--">EzidService</a></span>()</code>
<div class="block">Construct an EzidService to be used to access EZID.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../biocode/fims/ezid/EzidService.html#createIdentifier-java.lang.String-java.util.HashMap-">createIdentifier</a></span>(java.lang.String&nbsp;identifier,
                java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;metadata)</code>
<div class="block">Request that an identifier be created in the EZID system.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../biocode/fims/ezid/EzidService.html#deleteIdentifier-java.lang.String-">deleteIdentifier</a></span>(java.lang.String&nbsp;identifier)</code>
<div class="block">Delete an identifier from EZID.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../biocode/fims/ezid/EzidService.html#getMetadata-java.lang.String-">getMetadata</a></span>(java.lang.String&nbsp;identifier)</code>
<div class="block">Return a HashMap containing the EZID metadata associated with an identifier as
 a set of name/value pairs.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../biocode/fims/ezid/EzidService.html#login-java.lang.String-java.lang.String-">login</a></span>(java.lang.String&nbsp;username,
     java.lang.String&nbsp;password)</code>
<div class="block">Log into the EZID service using account credentials provided by EZID.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../biocode/fims/ezid/EzidService.html#logout--">logout</a></span>()</code>
<div class="block">Log out of the EZID service, invalidating the current session.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../biocode/fims/ezid/EzidService.html#mintIdentifier-java.lang.String-java.util.HashMap-">mintIdentifier</a></span>(java.lang.String&nbsp;shoulder,
              java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;metadata)</code>
<div class="block">Create a new, unique, opaque identifier by requesting EZID to generate the
 identifier itself within the "shoulder" identifier that is provided.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../biocode/fims/ezid/EzidService.html#setMetadata-java.lang.String-java.util.HashMap-">setMetadata</a></span>(java.lang.String&nbsp;identifier,
           java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;metadata)</code>
<div class="block">Set a series of metadata properties for the given identifier.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log</h4>
<pre>protected static&nbsp;org.slf4j.Logger log</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EzidService--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EzidService</h4>
<pre>public&nbsp;EzidService()</pre>
<div class="block">Construct an EzidService to be used to access EZID.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="login-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;void&nbsp;login(java.lang.String&nbsp;username,
                  java.lang.String&nbsp;password)
           throws <a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></pre>
<div class="block">Log into the EZID service using account credentials provided by EZID. The cookie
 returned by EZID is cached in a local CookieStore for the duration of the EzidService,
 and so subsequent calls using this instance of the service will function as
 fully authenticated. An exception is thrown if authentication fails.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - to identify the user account from EZID</dd>
<dd><code>password</code> - the secret password for this account</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></code> - if authentication fails for any reason</dd>
</dl>
</li>
</ul>
<a name="logout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout()
            throws <a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></pre>
<div class="block">Log out of the EZID service, invalidating the current session.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></code></dd>
</dl>
</li>
</ul>
<a name="createIdentifier-java.lang.String-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createIdentifier</h4>
<pre>public&nbsp;java.lang.String&nbsp;createIdentifier(java.lang.String&nbsp;identifier,
                                         java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;metadata)
                                  throws <a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></pre>
<div class="block">Request that an identifier be created in the EZID system.  The identifier
 must be one of the identifier types supported by EZID, such as ARK, DOI,
 or URN, and for each type accounts may only create identifiers with prefixes
 that are authorized for their EZID account.  For example, all identifiers
 created by an account might need to start with the string "doi:10.5072/FK2", so
 a request to create "doi:10.5072/FK2/MYID1" might succeed whereas a request
 to create "doi:10.5072/MA/MYID1" might fail, depending on the account. Metadata
 elements can be passed as a HashMap and will be added when the identifier is created.
 To omit setting metadata, pass 'null' as the metadata parameter. To have EZID
 generate a unique ID itself, @see <code>edu.ucsb.nceas.ezid.EZIDService#mintIdentifier(String, HashMap)</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>identifier</code> - to be created</dd>
<dd><code>metadata</code> - a HashMap containing name/value pairs to be associated with the identifier</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String identifier that was created</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></code> - if an error occurs while creating the identifier</dd>
</dl>
</li>
</ul>
<a name="mintIdentifier-java.lang.String-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mintIdentifier</h4>
<pre>public&nbsp;java.lang.String&nbsp;mintIdentifier(java.lang.String&nbsp;shoulder,
                                       java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;metadata)
                                throws <a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></pre>
<div class="block">Create a new, unique, opaque identifier by requesting EZID to generate the
 identifier itself within the "shoulder" identifier that is provided.  Each EZID account
 is authorized to mint identifiers that start with certain prefixes, called 'shoulders'
 by EZID.  The identifiers created are guaranteed unique within the EZID service. Metadata
 elements can be passed as a HashMap and will be added when the identifier is created.
 To omit setting metadata, pass 'null' as the metadata parameter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>shoulder</code> - to be used to identifier the identifier</dd>
<dd><code>metadata</code> - a HashMap containing name/value pairs to be associated with the identifier</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String identifier that was created</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></code> - if an error occurs while minting the identifier</dd>
</dl>
</li>
</ul>
<a name="getMetadata-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetadata</h4>
<pre>public&nbsp;java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;getMetadata(java.lang.String&nbsp;identifier)
                                                                 throws <a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></pre>
<div class="block">Return a HashMap containing the EZID metadata associated with an identifier as
 a set of name/value pairs.  Each key and associated value in the HashMap
 represents a single metadata property.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>identifier</code> - for which metadata should be returned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>HashMap of name/value pairs of metadata properties</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></code> - if EZID produces an error during the service call</dd>
</dl>
</li>
</ul>
<a name="setMetadata-java.lang.String-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMetadata</h4>
<pre>public&nbsp;void&nbsp;setMetadata(java.lang.String&nbsp;identifier,
                        java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;metadata)
                 throws <a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></pre>
<div class="block">Set a series of metadata properties for the given identifier.  Metadata are
 passed in as a HashMap representing name/value pairs.  EZID defines a set of
 keys to be used to associate metadata values with certain namespaces, such
 as the 'datacite', 'dc', and other namespaces.  For example, the 'datacite.title'
 property contains the title of the resource that is identified.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>identifier</code> - of the resource for which metadata is being set</dd>
<dd><code>metadata</code> - HashMap containing name/value metadata pairs</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></code> - if the EZID service returns an error on setting metadata</dd>
</dl>
</li>
</ul>
<a name="deleteIdentifier-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteIdentifier</h4>
<pre>public&nbsp;void&nbsp;deleteIdentifier(java.lang.String&nbsp;identifier)
                      throws <a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></pre>
<div class="block">Delete an identifier from EZID.  This should be an unusual operation, and is
 only possible for identifiers that have been reserved but not yet made public (such
 as an internal, temporary identifier).  Identifiers for which the internal "_status"
 metadata field is set to "public" can not be deleted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>identifier</code> - to be deleted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid">EzidException</a></code> - if the delete operation fails with an error from EZID</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../biocode/fims/ezid/EzidException.html" title="class in biocode.fims.ezid"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?biocode/fims/ezid/EzidService.html" target="_top">Frames</a></li>
<li><a href="EzidService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
